(kicad_sch (version 20211123) (generator eeschema)

  (uuid c0299da8-0a39-4b0f-af7e-e42fe2bd2904)

  (paper "A4")

  (lib_symbols
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (id 0) (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (id 1) (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "MAG_Current_Sense_Amplifiers:INA240A2PW" (pin_names (offset 0.762)) (in_bom yes) (on_board yes)
      (property "Reference" "IC" (id 0) (at 24.13 7.62 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "INA240A2PW" (id 1) (at 24.13 5.08 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "SOP65P640X120-8N" (id 2) (at 24.13 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Datasheet" "http://www.ti.com/lit/gpn/ina240" (id 3) (at 24.13 0 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Description" "80V, Low-/High-Side, Bi-Directional, Zero-Drift, Current Sense Amp w/Enhanced PWM Rejection" (id 4) (at 24.13 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Height" "1.2" (id 5) (at 24.13 -5.08 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Mouser Part Number" "595-INA240A2PW" (id 6) (at 24.13 -7.62 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Mouser Price/Stock" "https://www.mouser.co.uk/ProductDetail/Texas-Instruments/INA240A2PW?qs=aVyJF2WnouTiD4LDXEZ4Dw%3D%3D" (id 7) (at 24.13 -10.16 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Manufacturer_Name" "Texas Instruments" (id 8) (at 24.13 -12.7 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Manufacturer_Part_Number" "INA240A2PW" (id 9) (at 24.13 -15.24 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "ki_description" "80V, Low-/High-Side, Bi-Directional, Zero-Drift, Current Sense Amp w/Enhanced PWM Rejection" (id 10) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "INA240A2PW_0_0"
        (pin no_connect line (at 5.08 -10.16 0) (length 5.08) hide
          (name "NC" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 0 0) (length 5.08)
          (name "IN+" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -2.54 0) (length 5.08)
          (name "IN-" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 27.94 -7.62 180) (length 5.08)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 27.94 0 180) (length 5.08)
          (name "VS" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 27.94 -2.54 180) (length 5.08)
          (name "REF2" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 27.94 -5.08 180) (length 5.08)
          (name "REF1" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -7.62 0) (length 5.08)
          (name "OUT" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
      )
      (symbol "INA240A2PW_0_1"
        (polyline
          (pts
            (xy 5.08 2.54)
            (xy 22.86 2.54)
            (xy 22.86 -10.16)
            (xy 5.08 -10.16)
            (xy 5.08 2.54)
          )
          (stroke (width 0.1524) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
    )
    (symbol "power:+3V3" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+3V3" (id 1) (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+3V3\"" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+3V3_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "+3V3_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+3V3" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (id 1) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 171.45 101.6) (diameter 0) (color 0 0 0 0)
    (uuid c4d7b9bf-db3b-4bbe-ba39-3039b532a620)
  )
  (junction (at 171.45 93.98) (diameter 0) (color 0 0 0 0)
    (uuid fe36eb4a-7d4a-430d-bde6-82658aa71928)
  )

  (wire (pts (xy 171.45 93.98) (xy 171.45 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 047bce3e-6a8e-4e73-9207-a131ac1ca068)
  )
  (wire (pts (xy 171.45 101.6) (xy 177.8 101.6))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 15cf7344-5b77-4987-b252-a07ff410c25f)
  )
  (wire (pts (xy 171.45 101.6) (xy 171.45 105.41))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 30b13524-238a-4060-97b1-9380bda0061e)
  )
  (wire (pts (xy 171.45 96.52) (xy 171.45 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 387be162-6552-49b2-a2ff-8491cefa2df9)
  )
  (wire (pts (xy 166.37 101.6) (xy 171.45 101.6))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 38ba21de-1d23-487b-96bc-22a715dbee91)
  )
  (wire (pts (xy 121.92 97.79) (xy 116.84 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4015f032-dff2-4989-a848-954e316f87b4)
  )
  (wire (pts (xy 138.43 101.6) (xy 125.73 101.6))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 42169d7c-b28f-4586-80b0-ff945bf7082a)
  )
  (wire (pts (xy 125.73 110.49) (xy 138.43 110.49))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 460abb5e-f809-45c9-8272-676a3f1b72a6)
  )
  (wire (pts (xy 121.92 92.71) (xy 116.84 92.71))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6250c023-735c-4eff-b98e-fc920ba90d56)
  )
  (wire (pts (xy 171.45 93.98) (xy 177.8 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 7fe6bf48-84ad-46b5-8520-9f5415313033)
  )
  (wire (pts (xy 171.45 99.06) (xy 171.45 101.6))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8752cec2-bd51-4cb7-9fe1-4785aa9cc9c7)
  )
  (wire (pts (xy 121.92 96.52) (xy 121.92 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b39180fa-8cea-43e1-a5d6-be028ae5bdfc)
  )
  (wire (pts (xy 166.37 93.98) (xy 171.45 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b99db278-3688-43c0-86fc-1e43e23b93ef)
  )
  (wire (pts (xy 166.37 96.52) (xy 171.45 96.52))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid be391069-0048-46d0-8f7f-419716afc4f7)
  )
  (wire (pts (xy 138.43 96.52) (xy 121.92 96.52))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid bfeac910-b861-488a-889a-c5c78cbb5e2c)
  )
  (wire (pts (xy 121.92 93.98) (xy 121.92 92.71))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid c4c14604-f366-42a8-94bc-8fa604ea0975)
  )
  (wire (pts (xy 125.73 101.6) (xy 125.73 110.49))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid dc7304c3-5255-4efd-bf86-63421837809f)
  )
  (wire (pts (xy 166.37 99.06) (xy 171.45 99.06))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid e944817e-9021-43be-9ece-1dfe590c9e5a)
  )
  (wire (pts (xy 138.43 93.98) (xy 121.92 93.98))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f15d3f3e-5003-4a19-bd55-d327a54e2994)
  )

  (text "3*500uOhm * 300A = 0.05A\n0.05*50V/V = 2.5V \nNeed INA240A2"
    (at 15.24 24.13 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 121bcec0-24d4-429e-a1a4-852ac0c9d295)
  )

  (hierarchical_label "ISENSE_NEG" (shape input) (at 116.84 97.79 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 3b18b0ab-fc0d-4057-aa7d-924e0dbc1114)
  )
  (hierarchical_label "ISENSE_POS" (shape input) (at 116.84 92.71 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 48e633f3-5357-4c68-90dc-52828a6c749a)
  )
  (hierarchical_label "ISENSE_OUT" (shape output) (at 138.43 110.49 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid bde2e4a0-a584-4596-87c5-007844f9a7e0)
  )

  (symbol (lib_id "power:GND") (at 171.45 105.41 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 2058486b-232e-429d-94a1-50b2a0ed9814)
    (property "Reference" "#PWR0151" (id 0) (at 171.45 111.76 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 171.45 110.49 0))
    (property "Footprint" "" (id 2) (at 171.45 105.41 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 171.45 105.41 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b7622eea-7da5-45f3-a136-39e8a6295996))
  )

  (symbol (lib_id "power:+3V3") (at 171.45 90.17 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 2183717b-b89c-487f-9240-f56f5475a89b)
    (property "Reference" "#PWR0150" (id 0) (at 171.45 93.98 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+3V3" (id 1) (at 171.45 85.09 0))
    (property "Footprint" "" (id 2) (at 171.45 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 171.45 90.17 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 083e0258-1cb3-4d6a-b9c4-5b3b9736c44a))
  )

  (symbol (lib_id "Device:C") (at 177.8 97.79 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 2382c495-6b28-4758-bb56-88099edeb941)
    (property "Reference" "C25" (id 0) (at 181.61 96.5199 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "4u7" (id 1) (at 181.61 99.0599 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0603_1608Metric" (id 2) (at 178.7652 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 177.8 97.79 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 6e7bc9b8-33c8-4191-93f0-5a63139bac0d))
    (pin "2" (uuid f6b6a05b-a7bd-428e-8393-6c0c176c1d32))
  )

  (symbol (lib_id "MAG_Current_Sense_Amplifiers:INA240A2PW") (at 138.43 93.98 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 72958b38-5404-4df3-8b99-e678db869ceb)
    (property "Reference" "IC6" (id 0) (at 152.4 86.36 0))
    (property "Value" "INA240A2PW" (id 1) (at 152.4 88.9 0))
    (property "Footprint" "SOP65P640X120-8N" (id 2) (at 162.56 91.44 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Datasheet" "http://www.ti.com/lit/gpn/ina240" (id 3) (at 162.56 93.98 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Description" "80V, Low-/High-Side, Bi-Directional, Zero-Drift, Current Sense Amp w/Enhanced PWM Rejection" (id 4) (at 162.56 96.52 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Height" "1.2" (id 5) (at 162.56 99.06 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Mouser Part Number" "595-INA240A2PW" (id 6) (at 162.56 101.6 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Mouser Price/Stock" "https://www.mouser.co.uk/ProductDetail/Texas-Instruments/INA240A2PW?qs=aVyJF2WnouTiD4LDXEZ4Dw%3D%3D" (id 7) (at 162.56 104.14 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Manufacturer_Name" "Texas Instruments" (id 8) (at 162.56 106.68 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Manufacturer_Part_Number" "INA240A2PW" (id 9) (at 162.56 109.22 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (pin "1" (uuid 0f65e136-e7b0-4536-93bb-d4ea29da33cb))
    (pin "2" (uuid eaaaea5f-2220-4901-9ee4-a52159cd37fa))
    (pin "3" (uuid 37d8cfd9-7c4b-44d1-962c-f4a0702b997e))
    (pin "4" (uuid 868aeb08-f3b7-4a08-ad2f-752a1bcdabc8))
    (pin "5" (uuid 41946d1d-3ae8-4998-a7ed-0ed680ef3e06))
    (pin "6" (uuid 364e344d-1e2b-4822-a9a1-48803f6c89f8))
    (pin "7" (uuid f84fb57d-5154-4e29-af85-386709a31609))
    (pin "8" (uuid 76646088-26c0-40b7-a6d7-0a95533cb87e))
  )
)
